"""
    Copyright 2022 Continental Corporation

    :file: swt_sample_test.pytest
    :platform: Windows
    :synopsis:
        Demo test for usage of EDIABAS tool APIs.

    :author:
        - Ganga Prabhakar G <ganga.prabhakar.guntamukkala@continental-corporation.com>
"""

from ptf.ptf_utils.report import *
from ptf.ptf_utils.global_params import get_parameter


def SWT_EDIABAS_CONFIG_SET_TESTv1():
    DETAILS("This is an example test case to set EDIABAS Configuration")

    VERIFIES("EDIABAS API Trace Set")

    TESTTAG("HiL")

    TESTSTEP("Fetching EDIABAS Instance created in 'global_setup'")
    EXPECTED("EDIABAS class instance grabbed successfully")
    ediabas_obj = get_parameter("ediabas_obj")

    TESTSTEP("Setting ApiTrace config value to 1")
    EXPECTED("ApiTrace config value set to 1 Successfully")
    print(ediabas_obj.set_config("ApiTrace", "1"))


def SWT_EDIABAS_TST_RUN_TESTv1():
    DETAILS("This is an example test case to run EDIABAS .tst file, which contains the set of ")
    DETAILS("diagnostic commands based on the tst file format provided by EDIABAS")

    PRECONDITION("Ensure the ECU is connected and the setup is ready")

    VERIFIES("EDIABAS .tst run API")

    TESTTAG("HiL")

    TESTSTEP("Fetching EDIABAS Instance created in 'global_setup'")
    EXPECTED("EDIABAS class instance grabbed successfully")
    ediabas_obj = get_parameter("ediabas_obj")

    tst_file = r"D:\EDIABAS\test.tst"
    TESTSTEP("Executing " + tst_file + " file")
    EXPECTED("tst file executed Successfully")
    print(ediabas_obj.execute_tst(tst_file))

def SWT_EDIABAS_TST_CLI_RUN_TESTv1():
    DETAILS("This is an example test case to run EDIABAS .tst file with CLI interface.")

    PRECONDITION("Ensure the ECU is connected and the setup is ready")

    VERIFIES("EDIABAS .tst run API")

    TESTTAG("HiL")

    TESTSTEP("Fetching EDIABAS Instance created in 'global_setup'")
    EXPECTED("EDIABAS class instance grabbed successfully")
    ediabas_obj = get_parameter("ediabas_obj")

    tst_file = r"D:\EDIABAS\test.tst"
    TESTSTEP("Executing " + tst_file + " file")
    EXPECTED("tst file executed Successfully")
    print(ediabas_obj.execute_tst_cli(tst_file))

"""
    Copyright 2019 Continental Corporation

    :file: swt_sample_test.pytest
    :platform: Windows
    :synopsis:
        Demo test for DTS tool using RVS231.

    :author:
        - - Praveenkumar G K  <praveenkumar.gomathi.kaliamoorthi@continental-corporation.com>
"""


# standard Python import area


# ConTest or custom import area
# NOTE : ALWAYS IMPORT (contest_expects, contest_asserts, report and get_parameter) AS BELOW.
#        FOR PROPER DOCUMENTATION AND ERROR REPORTING
from ptf.ptf_utils.report import *
from ptf.ptf_utils.global_params import get_parameter


def SWT_FLASHING_TESTv1():
    DETAILS("RVS flashing test ")
    PRECONDITION("Security access required")

    VERIFIES("RVS_Flashing ")

    TESTTAG("hil")
    TESTCASE()
    dts = get_parameter("dts")
    TESTSTEP("Flashing ECU over DTS")
    dts.flash_job("WVC_FlashProg", "2239021800_001_192309", "UDS_CAN_INT_RVC223",
                  security_access_req="ChangeAuthenticatedState")

def SWT_DIAG_TESTv1():
    DETAILS("RVS diag request test ")
    PRECONDITION("Security access required")
    VERIFIES("RVS_reading identifier")
    TESTTAG("hil")
    TESTCASE()
    dts = get_parameter("dts")
    TESTSTEP("Reading identifier: ECU_Extract_Version_Read")
    dts.send_diag_cmd_via_id("ECU_Extract_Version_Read", "UDS_CAN_INT_RVC223",
                             security_access_req="ChangeAuthenticatedState", time_out=3)

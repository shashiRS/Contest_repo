"""
    Copyright 2019 Continental Corporation

    :file: swt_t32_multicore.pytest
    :platform: Windows, Linux
    :synopsis:
        Script containing sample test case(s) for T32 multicore control functionality

    :author:
        - M. Shan Ur Rehman <Muhammad.Shan.ur.Rehman@continental-corporation.com>
"""


# standard Python import area


# ConTest or custom import area
# NOTE : ALWAYS IMPORT (contest_expects, contest_asserts, report and get_parameter) AS BELOW.
#        FOR PROPER DOCUMENTATION AND ERROR REPORTING
from contest_verify.verify import contest_asserts
from contest_verify.verify import contest_expects
from ptf.ptf_utils.report import *
from ptf.ptf_utils.global_params import get_parameter


def SWT_MULTICORE_PRINTv1():
    DETAILS("Test case for show casing the functionality of controlling 2 T32 cores")
    DETAILS("In this test case PRINT command will be sent to t32marm and t32marm64 cores")

    PRECONDITION("Lauterbach HW connected to machine running test")

    VERIFIES("L3_SW_MULTI_CORE")

    TESTTAG("t32")
    TESTTAG("multicore")

    TESTCASE()

    TESTSTEP("Get t32marm instance created in global_setup")
    t32_marm = get_parameter("t32_marm")

    TESTSTEP("Get t32marm64 instance created in global_setup")
    t32_marm64 = get_parameter("t32_marm64")

    TESTSTEP("Send PRINT command to t32marm core")
    EXPECTED("Command executed successfully on t32marm core")
    t32_marm.run_t32_cmd('Print "Hello marm"')

    TESTSTEP("Send PRINT command to t32marm64 core")
    EXPECTED("Command executed successfully on t32marm64 core")
    t32_marm64.run_t32_cmd('Print "Hello marm64"')
